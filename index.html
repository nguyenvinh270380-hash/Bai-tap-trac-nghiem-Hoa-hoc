<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>APP BÃ€I Táº¬P TRáº®C NGHIá»†M HÃ“A Há»ŒC</title>

  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json" />

  <style>
    .btn-mic {
      background: #4f46e5;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      font-size: 22px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    }
    .btn-mic.active { background: #16a34a; }
    .mic-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .mic-label {
      font-size: 13px;
      margin-top: 6px;
      color: #333;
    }
  </style>
</head>

<body>
  <header class="app-header">
    <h1>APP BÃ€I Táº¬P TRáº®C NGHIá»†M HÃ“A Há»ŒC</h1>
  </header>

  <main class="app-main">
    <section class="panel">
      <label>ğŸ” Chá»n chá»§ Ä‘á»:</label>
      <select id="topic">
        <option value="BTKL">Äá»‹nh luáº­t BTKL</option>
        <option value="CÃ¢n báº±ng PTHH">CÃ¢n báº±ng PTHH</option>
        <option value="LiÃªn káº¿t hÃ³a há»c">LiÃªn káº¿t hÃ³a há»c</option>
      </select>

      <div class="actions">
        <!-- ğŸ”˜ NÃšT DUY NHáº¤T -->
        <div class="mic-wrap">
          <button id="micBtn" class="btn-mic">ğŸ¤</button>
          <div class="mic-label">Cháº¡m Ä‘á»ƒ nÃ³i</div>
        </div>
      </div>
    </section>

    <section id="quizContainer"></section>
  </main>

  <!-- CORE -->
  <script src="js/engine/intentEngine.js"></script>
  <script src="js/voiceAndSimulation.js"></script>

  <!-- ğŸ”‘ Gá»˜P OVERLAY + MICRO -->
  <script>
    const micBtn = document.getElementById("micBtn");
    let unlocked = false;

    micBtn.addEventListener("click", () => {
      if (!unlocked) {
        enableVoice();        // ğŸ”“ má»Ÿ khÃ³a audio
        unlocked = true;
        micBtn.classList.add("active");
      }
      startListening();       // ğŸ¤ báº¯t Ä‘áº§u nghe lá»‡nh
    });
  </script>
</body>
</html>
